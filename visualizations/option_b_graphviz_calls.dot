digraph CodeGraph {
    // Layout settings for better spacing
    rankdir=TB;
    ranksep=1.5;        // Vertical spacing between ranks
    nodesep=0.8;        // Horizontal spacing between nodes
    splines=ortho;      // Orthogonal edges for cleaner look
    
    // Node styling
    node [
        shape=box,
        style="filled,rounded",
        fillcolor=lightblue,
        fontname="Arial",
        fontsize=12,
        margin=0.3,
        height=0.6
    ];
    
    // Edge styling
    edge [
        color=gray,
        arrowsize=0.8,
        penwidth=1.5
    ];

    __init__ -> _init_tools [label="calls"];
    __init__ -> get_driver [label="calls"];
    __init__ -> __init__ [label="calls"];
    __init__ -> __init__ [label="calls"];
    __init__ -> get_database_manager [label="calls"];
    __init__ -> __init__ [label="calls"];
    __init__ -> __init__ [label="calls"];
    get_database_status -> is_connected [label="calls"];
    execute_cypher_query_tool -> get_driver [label="calls"];
    execute_cypher_query_tool -> session [label="calls"];
    execute_cypher_query_tool -> run [label="calls"];
    execute_cypher_query_tool -> data [label="calls"];
    execute_cypher_query_tool -> data [label="calls"];
    execute_cypher_query_tool -> debug_log [label="calls"];
    find_dead_code_tool -> debug_log [label="calls"];
    find_dead_code_tool -> find_dead_code [label="calls"];
    calculate_cyclomatic_complexity_tool -> debug_log [label="calls"];
    calculate_cyclomatic_complexity_tool -> get_cyclomatic_complexity [label="calls"];
    find_most_complex_functions_tool -> debug_log [label="calls"];
    find_most_complex_functions_tool -> find_most_complex_functions [label="calls"];
    list_indexed_repositories_tool -> debug_log [label="calls"];
    list_indexed_repositories_tool -> list_indexed_repositories [label="calls"];
    delete_repository_tool -> debug_log [label="calls"];
    delete_repository_tool -> delete_repository_from_graph [label="calls"];
    visualize_graph_query_tool -> get_driver [label="calls"];
    visualize_graph_query_tool -> session [label="calls"];
    visualize_graph_query_tool -> run [label="calls"];
    visualize_graph_query_tool -> debug_log [label="calls"];
    list_watched_paths_tool -> list_watched_paths [label="calls"];
    unwatch_directory_tool -> unwatch_directory [label="calls"];
    watch_directory_tool -> list_indexed_repositories_tool [label="calls"];
    watch_directory_tool -> add_code_to_graph_tool [label="calls"];
    watch_directory_tool -> watch_directory [label="calls"];
    watch_directory_tool -> error_logger [label="calls"];
    add_code_to_graph_tool -> list_indexed_repositories_tool [label="calls"];
    add_code_to_graph_tool -> create_job [label="calls"];
    add_code_to_graph_tool -> update_job [label="calls"];
    add_code_to_graph_tool -> debug_log [label="calls"];
    add_code_to_graph_tool -> estimate_processing_time [label="calls"];
    add_code_to_graph_tool -> build_graph_from_path_async [label="calls"];
    add_package_to_graph_tool -> list_indexed_repositories_tool [label="calls"];
    add_package_to_graph_tool -> create_job [label="calls"];
    add_package_to_graph_tool -> update_job [label="calls"];
    add_package_to_graph_tool -> debug_log [label="calls"];
    add_package_to_graph_tool -> get_local_package_path [label="calls"];
    add_package_to_graph_tool -> estimate_processing_time [label="calls"];
    add_package_to_graph_tool -> build_graph_from_path_async [label="calls"];
    check_job_status_tool -> get_job [label="calls"];
    check_job_status_tool -> debug_log [label="calls"];
    list_jobs_tool -> list_jobs [label="calls"];
    list_jobs_tool -> debug_log [label="calls"];
    analyze_code_relationships_tool -> debug_log [label="calls"];
    analyze_code_relationships_tool -> analyze_code_relationships [label="calls"];
    find_code_tool -> _normalize [label="calls"];
    find_code_tool -> debug_log [label="calls"];
    find_code_tool -> find_related_code [label="calls"];
    handle_tool_call -> execute_cypher_query_tool [label="calls"];
    handle_tool_call -> find_dead_code_tool [label="calls"];
    handle_tool_call -> calculate_cyclomatic_complexity_tool [label="calls"];
    handle_tool_call -> find_most_complex_functions_tool [label="calls"];
    handle_tool_call -> list_indexed_repositories_tool [label="calls"];
    handle_tool_call -> delete_repository_tool [label="calls"];
    handle_tool_call -> visualize_graph_query_tool [label="calls"];
    handle_tool_call -> list_watched_paths_tool [label="calls"];
    handle_tool_call -> unwatch_directory_tool [label="calls"];
    handle_tool_call -> watch_directory_tool [label="calls"];
    handle_tool_call -> add_code_to_graph_tool [label="calls"];
    handle_tool_call -> add_package_to_graph_tool [label="calls"];
    handle_tool_call -> check_job_status_tool [label="calls"];
    handle_tool_call -> list_jobs_tool [label="calls"];
    handle_tool_call -> analyze_code_relationships_tool [label="calls"];
    handle_tool_call -> find_code_tool [label="calls"];
    run -> handle_tool_call [label="calls"];
    run -> start [label="calls"];
    run -> error_logger [label="calls"];
    run -> debug_logger [label="calls"];
    shutdown -> close_driver [label="calls"];
    shutdown -> stop [label="calls"];
    shutdown -> debug_logger [label="calls"];
    __new__ -> __new__ [label="calls"];
    get_driver -> validate_config [label="calls"];
    get_driver -> test_connection [label="calls"];
    get_driver -> session [label="calls"];
    get_driver -> close [label="calls"];
    get_driver -> run [label="calls"];
    get_driver -> consume [label="calls"];
    get_driver -> info_logger [label="calls"];
    get_driver -> error_logger [label="calls"];
    close_driver -> close [label="calls"];
    close_driver -> info_logger [label="calls"];
    is_connected -> session [label="calls"];
    is_connected -> run [label="calls"];
    is_connected -> consume [label="calls"];
    test_connection -> session [label="calls"];
    test_connection -> close [label="calls"];
    test_connection -> run [label="calls"];
    test_connection -> single [label="calls"];
    __init__ -> __init__ [label="calls"];
    __init__ -> _initial_scan [label="calls"];
    __init__ -> __init__ [label="calls"];

    __init__ [label="__init__"];
    __new__ [label="__new__"];
    _init_tools [label="_init_tools"];
    _initial_scan [label="_initial_scan"];
    _normalize [label="_normalize"];
    add_code_to_graph_tool [label="add_code_to_graph_tool"];
    add_package_to_graph_tool [label="add_package_to_graph_tool"];
    analyze_code_relationships [label="analyze_code_relationships"];
    analyze_code_relationships_tool [label="analyze_code_relationships_tool"];
    build_graph_from_path_async [label="build_graph_from_path_async"];
    calculate_cyclomatic_complexity_tool [label="calculate_cyclomatic_complexity_tool"];
    check_job_status_tool [label="check_job_status_tool"];
    close [label="close"];
    close_driver [label="close_driver"];
    consume [label="consume"];
    create_job [label="create_job"];
    data [label="data"];
    debug_log [label="debug_log"];
    debug_logger [label="debug_logger"];
    delete_repository_from_graph [label="delete_repository_from_graph"];
    delete_repository_tool [label="delete_repository_tool"];
    error_logger [label="error_logger"];
    estimate_processing_time [label="estimate_processing_time"];
    execute_cypher_query_tool [label="execute_cypher_query_tool"];
    find_code_tool [label="find_code_tool"];
    find_dead_code [label="find_dead_code"];
    find_dead_code_tool [label="find_dead_code_tool"];
    find_most_complex_functions [label="find_most_complex_functions"];
    find_most_complex_functions_tool [label="find_most_complex_functions_tool"];
    find_related_code [label="find_related_code"];
    get_cyclomatic_complexity [label="get_cyclomatic_complexity"];
    get_database_manager [label="get_database_manager"];
    get_database_status [label="get_database_status"];
    get_driver [label="get_driver"];
    get_job [label="get_job"];
    get_local_package_path [label="get_local_package_path"];
    handle_tool_call [label="handle_tool_call"];
    info_logger [label="info_logger"];
    is_connected [label="is_connected"];
    list_indexed_repositories [label="list_indexed_repositories"];
    list_indexed_repositories_tool [label="list_indexed_repositories_tool"];
    list_jobs [label="list_jobs"];
    list_jobs_tool [label="list_jobs_tool"];
    list_watched_paths [label="list_watched_paths"];
    list_watched_paths_tool [label="list_watched_paths_tool"];
    run [label="run"];
    session [label="session"];
    shutdown [label="shutdown"];
    single [label="single"];
    start [label="start"];
    stop [label="stop"];
    test_connection [label="test_connection"];
    unwatch_directory [label="unwatch_directory"];
    unwatch_directory_tool [label="unwatch_directory_tool"];
    update_job [label="update_job"];
    validate_config [label="validate_config"];
    visualize_graph_query_tool [label="visualize_graph_query_tool"];
    watch_directory [label="watch_directory"];
    watch_directory_tool [label="watch_directory_tool"];
}